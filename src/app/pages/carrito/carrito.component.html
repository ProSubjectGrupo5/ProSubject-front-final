<ngx-spinner></ngx-spinner>
<div *ngIf="carrito" class="container">
    <div class="alert alert-info">
        Cuando supere la compra de más de 4 horarios recibirá un 10% de descuento en esa compra.
        Una vez se le aplique el descuento en una compra su contador volverá a 0.<br>
        <b>Comprados</b>: {{perfil.contadorDescuento - carrito.horario.length}} + <b>Carrito</b>: {{carrito.horario.length}} = {{perfil.contadorDescuento}} <small *ngIf="perfil.contadorDescuento > 4"> (Esta compra obtendría el descuento)</small>
    </div>
   <div  *ngIf="carrito.precioMensual !== 0" class="card shopping-cart">
            <div class="card-header bg-dark text-light">
                <img class="mr-2" alt="Carrito" src="assets/images/smart-cart.png" width="40px">
                Horarios añadidos
            </div>
            <div class="card-body">
                    <!-- PRODUCTS -->
                    <div *ngFor="let horario of carrito.horario" class="row mt-4 linea">
                        <div class="col-12 col-sm-12 col-md-2 text-center mb-3">
                            <img class="mr-2" alt="Asignatura" src="assets/images/libros.jpg" width="120" height="80">
                        </div>
                        <div class="col-6 text-sm-center col-sm-6 text-md-left col-md-3">
                            <h4 class="product-name"><strong>Asignatura</strong></h4>
                            <h4>
                                <small>{{horario.espacio.asignatura.nombre}}</small>
                            </h4>
                        </div>
                        <div class="col-6 text-sm-center col-sm-6 text-md-left col-md-3">
                            <h4 class="product-name"><strong>Fecha y horario</strong></h4>
                            <h4>
                                <small>{{horario.fechaInicio}} - {{horario.fechaFin}}</small><br>
                                <small>{{horario.horaInicio}} - {{horario.horaFin}}</small>
                            </h4>
                        </div>
                        <div class="col-3 text-sm-center col-sm-3 text-md-left col-md-2">
                            <h4 class="product-name"><strong>Nº clases</strong></h4>
                            <h4>
                                <small>4 x {{horario.espacio.precio}}€</small>
                            </h4>
                        </div>
                        <div class="col-3 text-sm-center col-sm-3 text-md-left col-md-1">
                            <h4 class="product-name"><strong>Día</strong></h4>
                            <h4>
                                <small>{{horario.dia}}</small>
                            </h4>
                        </div>
                        <div class="col-2 col-sm-2 col-md-1">
                            <a class="btn" (click)="eliminarHorario(carrito.id, horario.id)"><img class="mr-2" alt="Eliminar" src="assets/images/criss-cross.png"></a>
                        </div>                       
                    </div>
                   
            </div>
            <div class="card-footer">
                <div class="pull-right" style="margin: 10px">
                    <div id="paypal"></div>
                    <!--<a class="button btn btn-secondary pull-right">Pagar</a>-->
                    <div *ngIf="carrito" class="pull-right" style="margin: 5px">
                        Precio mensual: <b>{{carrito.precioMensual}}€</b>
                    </div>
                </div>
            </div>
        </div>
        

        <!-- --------------- SIN PRODUCTOS -------------- -->
    <div *ngIf="carrito.precioMensual === 0" class="card shopping-cart">
        <div class="card-header bg-dark text-light">
            <img class="mr-2" alt="Carrito" src="assets/images/smart-cart.png" width="40px">
            Aún no dispone horarios añadidos
        </div>
        <div class="card-body">
                <!-- PRODUCTS -->
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-12 text-center">
                        <img class="mr-2" alt="Asignatura" src="https://image.flaticon.com/icons/svg/1827/1827444.svg" width="250" height="250">
                    </div>
                </div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-center">
    <div class="col-12 col-md-6 col-sm-12 col-lg-6" id="paypal"></div>
</div>